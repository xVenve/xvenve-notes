\chapter{Introducción a la Informática Gráfica}\label{ch:introduccion-a-la-informática-gráfica}
\section{Que es una Imagen}\label{sec:que-es-una-imagen}
\begin{itemize}
	\item Una vista en un monitor.
	\item Un fichero en un cámara.
	\item Números de una RAM
\end{itemize}
\textbf{Definición}
\begin{itemize}
	\item Una distribución 2D de intensidad o color.
	\item Una función definida en un plano bidimensional.
	\item ! No hay mención a píxeles!
\end{itemize}
\textbf{Necesidades}
\begin{itemize}
	\item Representar la imagen (codificarla en números)
	\item Mostrar la imagen (aplicar transformaciones, intensidades de corriente, cantidades de tinta).
\end{itemize}

\section{Áreas de Conocimiento}\label{sec:áreas-de-conocimiento}
\textbf{Procesado de imágenes}, se reciben solamente imágenes, se hacen modificaciones y análisis de imágenes.
\begin{itemize}
	\item Análisis de escenas.
	\item Reconstrucción de modelos en 2D o 3D de las imágenes.
	\item Compresión de imágenes, mejora de nitidez, posterizado (convertir imágenes en dibujos o pósteres)\ldots
\end{itemize}

\textbf{Visión Artificial}, dadas imágenes y datos sobre estas se obtiene información más completa.
\begin{itemize}
	\item Construcción de sistemas que obtengan información automáticamente a partir de las imágenes.
	\item Clasificación de imágenes con base en conocimiento previo o información estadística.
\end{itemize}

\textbf{Informática Gráfica}, síntesis de objetos reales o imaginarios a partir de modelos basados en computación.

\section{Aplicaciones}\label{sec:aplicaciones}

\subsection{Diseño Asistido por Computador (CAD)}\label{subsec:diseño-asistido-por-computador-(cad)}
Herramientas gráficas para diseñar prototipos y evaluarlos antes de construirlos.

\textbf{Áreas importantes:} Diseño industrial, Arquitectura, Circuitos electrónicos y electrónicos.

\textbf{Técnicas:} Diseño basado en primitivas constructivas y Superficies curvas.

\textbf{Posibilidades:} Realidad virtual, Presentación realista, Análisis del diseño y Conexión con el sistema de fabricación.

\subsection{Gráficos de presentación}\label{subsec:gráficos-de-presentación}
Uso de los gráficos para producción de ilustraciones de soporte a informes y trabajos.

\textbf{Áreas importantes:} Economía, Estadística, Matemáticas y Administración y gestión.

\textbf{Técnicas:} Gráficos de líneas, Gráficos de barra, Gráficos de tarta y Superficies 3D\@.

\subsection{Creaciones artisticas}\label{subsec:creaciones-artisticas}
Producción de imágenes con un fin artístico o comercial.

\textbf{Áreas importantes:} Diseño de logotipos, Bellas artes y Animaciones publicitarias.

\textbf{Técnicas:} Diseño vectorial, Soporte a la animación, Tratamiento de imagen y Rendering.

\subsection{Entretenimiento}\label{subsec:entretenimiento}
Producción de videos y videojuegos con efectos realistas.

\textbf{Áreas importantes:} Cine (películas y animación), Televisión (cortinillas, cabeceras, AR) y Videojuegos.

\textbf{Técnicas:} Animación, Visualización realista, Efectos especiales e Interactividad.

Se utilizan API y SDK: Truevision 3D, XNA, OGRE, IrrLicht, CryEngine 3, Unreal Engine y Unity.

\subsection{Simulación y entrenamiento}\label{subsec:simulación-y-entrenamiento}
Desarrollo de sistemas para simular tareas realistas y procesos.

\textbf{Áreas importantes:} Simulación de conducción, Simulación de procesos industriales, Entrenamiento y Educación.

\textbf{Técnicas:} Tiempo real, Interactividad y Realidad virtual.

\subsection{Visualización científica}\label{subsec:visualización-cientifica}
Visualización en dominios específicos y de grandes cantidades de datos.

\textbf{Áreas importantes:} Medicina (resonancias, tomografías), Ingeniería, Física (campos, dinámica de fuerza), Química (interacción molecular), Matemática y Topológico (terrenos y corrientes).

\textbf{Técnicas:} Codificación por color, Curvas de nivel, Visualización de volúmenes.

\section{Historia}\label{sec:historia}
\subsection{Años 50 (Comienzos)}
Whirlwind y SAGE.

Se empezó utilizando la informática gráfica para detectar aviones o submarinos, con radares, en estos tiempos se utilizaban ordenadores del tamaño de ordenadores. En esta visualización se podía marcar puntos.

\subsection{Años 60}\label{subsec:años-60}
\begin{itemize}
	\item Sketchpad: el primer programa gráfico interactivo.
	\item Russell (MIT) desarrolla Spacewar en un PDP-1.
	\item El primer juego \enquote{Tennis for two} (Pong) se jugaba en un osciloscopio.
	\item Primer algoritmo de superficies ocultas (Catmull)
	\item Realismo mediante sombreado de superficies con color.
\end{itemize}

\subsection{Años 70}\label{subsec:años-70}
\begin{itemize}
	\item Suavizado de superficies poligonales (Gouraud)
	\item Comercialización del microprocesador.
	\item Fundación de Atari.
	\item Primeros intentos de informática gráfica en el cine.
	\item Diseños de la tetera (Newell, Utah, Univ.)
	\item Introducción de texturas y Z-buffer.
	\item Suavizado de superficies poligonales (Phong) que se utiliza en el 3D
	\item Fundación de Apple y Microsoft.
	\item Lucasfilm crea la división de gráficos por computador.
	\item Westworld: primera película en emplear gráficos por ordenador.
	\item La Guerra de las Galaxias.
\end{itemize}

\subsection{Anos 80}\label{subsec:anos-80}
\begin{itemize}
	\item Popularización de SIGGRAPH como evento de referencia en el área.
	\item Publicación sobre el Raytracing (Bell Labs)
	\item Construcción del primer motor de rendering (REYES), precursor de Renderman (Carpenter)
	\item Ecuación de rendering (Kajiya)
	\item Película de TRON de Disney (Lisberger y Kushner)
	\item Venta masiva de terminales gráficas: IBM, Tektronix\ldots
	\item GKS se constituye como estándar ISO y ANSI de construcción de librerías gráficas.
	\item IBM crea el ordenador personal (PC)
	\item Introducción de la radiosidad (Goral, Torrance, Cohen)
	\item Cornell Box: prueba para comprobar la adecuación de un sistema de renderizado a una fotografía real.
\end{itemize}

\section{Campos de aplicación}\label{sec:campos-de-aplicación}
\begin{itemize}
	\item \textbf{Física, matemáticas y ciencias naturales:} Simulación, Modelado y Análisis numérico.
	\item \textbf{Ingeniería:} Sistemas, software y hardware, e Infraestructura e integración de entonos.
	\item \textbf{Arte y psicología:} Percepción y Diseño y composición.
\end{itemize}

\section{Disciplinas relacionadas}\label{sec:disciplinas-relacionadas}
\begin{figure}[H]
	\ffigbox[\FBwidth]
	{\caption{Disciplinas relacionadas}}
	{\def\svgwidth{.8\textwidth}
		\input{./img/disciplinas-relacionadas.eps_tex}}
\end{figure}

\section{Procesado de Imagen 2D}\label{sec:procesado-de-imagen-2d}
La secuencia de pasos por los que pasa el procesado de imagen en 2D puede representarse como un pipeline (no todos los pasos tienen que estar presentes).
\begin{figure}[H]
	\ffigbox[\FBwidth]
	{\caption{Pipeline Imagenes 2D}}
	{\def\svgwidth{.8\textwidth}
		\input{./img/pipeline2D.eps_tex}}
\end{figure}

\begin{enumerate}
	\item \textbf{Adquisición:} Muchas técnicas, divisibles en dos categorías: Síntesis y Captura.
	      \begin{itemize}
		      \item \textbf{Síntesis:} Imágenes creadas por un ordenador. \\ Definición geométrica de los objetos (Renderman, Maya, PovRay). \\ Imágenes \enquote{pintadas}(Photoshop, Illustrator, Fractal Painter).
		      \item \textbf{Captura:} Imágenes que provienen del mundo real. \\ Capturadas o digitalizadas por hardware específico.
	      \end{itemize}
	\item \textbf{Preprocesado:} Modificación de formas, tamaño y propiedades de color. \\ Técnicas: Ajuste de color y niveles, Recorte, Escalado, Desenfoque, Mejora de bordes y Filtrado.
	\item \textbf{Mapeado:} Varias imágenes se combinan con transformaciones. \\ Transformaciones: Rotaciones, Escalados y Deformaciones. \\ Composición: Efectos de transparencia / translucencia.
	\item \textbf{Postprocesado:} Se utiliza para aplicar efectos globales a toda o parte de la imagen. \\ Efectos artísticos: Posterizado, Envejecimiento, Desenfoque  o Texturizado. \\ Efectos técnicos: Mejora de contraste y Variaciones de color.
	\item \textbf{Salida:} El dispositivo de salida puede afectar a su visualización.
	      \begin{itemize}
		      \item El mapa de color de una impresora puede \enquote{falsear} o acentuar colores.
		      \item Se pueden mapear los colores entre la pantalla y la impresora.
	      \end{itemize}
	      Dispositivos: Monitores, Impresoras, Discos y Mapas de texturas.
\end{enumerate}

\section{Procesado Gráfico 3D}\label{sec:procesado-gráfico-3d}
Se encarga de generar las imágenes que se pueden ver en un dispositivo.
\begin{itemize}
	\item Vista del sistema operativo.
	\item Imágenes (frames) de un videojuego.
	\item Pantalla de un teléfono.
	\item Imágenes de una película en el cine.
\end{itemize}
\subsection{Pipeline 3D}\label{subsec:pipeline-3d}
Varios módulos van realizando diferentes tareas para la generación (render) de la imagen.
\begin{itemize}
	\item \textbf{Transformación}
	\item \textbf{Iluminación}
	\item \textbf{Texturado}
	\item \textbf{Shaders:} Unidades de procesado que se compilan de forma independiente, modificando localmente las propiedades de los objetos de la escena. \\ Vértices: Transformaciones de coordenadas y Colores y texturas. \\ Geométricos: Generación de formas (primitivas). \\ Fragmentos: Texturizado y sombreado a nivel de pixel.
\end{itemize}
Diagrama de flujo
\begin{itemize}
	\item Entrada de los datos de la geometría de objetos y atributos de sus materiales.
	\item Definición de las condiciones de iluminación.
	\item Salida de las imágenes.
\end{itemize}
Historia
\begin{itemize}
	\item Datos de entrada > Software de Render > Frame Buffer.
	\item Datos de entrada > Transformaciones e Iluminación > Transformaciones Raster > Procesado Pixel > Frame Buffer.
	\item Datos de entrada > Vertex Shading > Geometry Shading > Transformaciones Raster > Pixel Shading > Frame Buffer.
\end{itemize}

Entran vértices y salen píxeles.

\subsection{Framebuffer}\label{subsec:framebuffer}
Memoria local para las imágenes que se mapean en un dispositivo. El hardware de video convierte el contenido en una señal para el dispositivo de salida.

\textbf{Framebuffer sencillo:}
\begin{itemize}
	\item Dividido en planos.
	\item Cada plano representa 1 bit de valor del color del píxel.
	\item El plano tiene el tamaño del dispositivo (ejem. 1920x1080).
	\item Para RGB, profundidad de 24 bits.
\end{itemize}

\textbf{Framebuffer complejo}
\begin{itemize}
	\item Doblar el número de planos (double buffering).
	\item Z-buffer para profundidad.
	\item Visión 3D, un conjunto de buffers para cada ojo.
	\item A-buffer para transparencia y sombras.
\end{itemize}


Z-buffer: es importante la precisión utilizada. Pueden aparecer problemas de \enquote{z-fighting}, que dos superficies que ocupen el mismo espacio y se vea como una se funde con la otra.

El framebuffer necesita memorias muy rápidas
\pagebreak

\subsection{Flujo de aplicación}\label{subsec:flujo-de-aplicación}
\begin{enumerate}
	\item Software
	      \begin{enumerate}
		      \item \textbf{Aplicación 3D:} CAD, Animaciones, Simulador o Juego 3D\@.
		      \item \textbf{API:} Direct3D u OpenGL\@.
		      \item \textbf{Drivers:} Preparación de datos, Mapeo hardware.
	      \end{enumerate}
	\item Hardware
	      \begin{enumerate}
		      \item \textbf{Motor gráfico:} Transformaciones geométricas, Ilustración, Texturizado y Rasterización.
		      \item \textbf{Memoria local:} Framebuffer, z-buffer y Stereo buffer.
	      \end{enumerate}
\end{enumerate}

\subsection{Motor de Render}\label{subsec:motor-de-render}
Software encargado de generar y visualizar información gráfica Abstrae los mecanismos de creación de gráficos.

Hay una gran variedad de motores gráficos en el mercado, de distintos tipos opensource, freeware y comerciales.

\textbf{Técnicas:} Sombreado, Mapeo de texturas, Bump-mapping, PBR, Efectos atmosféricos, Sombras, Reflexiones, Refracciones, Transparencias, Translucencias, Difracción, Iluminación global, Cáusticas, Profundidad de campo, Motion blur y NPR (cell-shading).